import{_ as C}from"./CYw5tdMB.js";import{g as h,j as c,k as B,c as t,o,l as _,b as u,a as s,t as j,F as x,r as M,w as y,m as k,T as V,_ as v,n as g,d as I}from"#entry";const L={class:"p-illust"},T={key:0,class:"p-illust__loading"},A={key:1,class:"p-illust__error"},G={key:2},E={class:"p-illust__list"},N={class:"p-illust__thumbnail"},D=["src","alt","onClick"],P={class:"modal__inner"},F={class:"modal__container"},H={class:"modal__main"},O={class:"modal__img"},S=["src","alt"],z=h({__name:"GalleryViewer",setup(f){const n=c([]),e=c(!1),r=c(null),d=async()=>{e.value=!0,r.value=null;try{const a=await fetch("https://romanstein.jp/wp-json/wp/v2/illust?embed&per_page=100",{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=await a.json();if(!Array.isArray(l))throw new Error("API response is not an array");n.value=l}catch(a){r.value="データの取得に失敗しました",console.error("APIデータの取得エラー:",a)}finally{e.value=!1}},p=c(!1),m=c(""),w=a=>{m.value=a,p.value=!0},$=()=>{p.value=!1};return B(()=>{d()}),(a,l)=>{const b=C;return o(),t("div",L,[_(e)?(o(),t("div",T,[u(b)])):_(r)?(o(),t("div",A,[s("p",null,j(_(r)),1),s("button",{onClick:d,class:"retry-button"},"再試行")])):(o(),t("div",G,[s("ul",E,[(o(!0),t(x,null,M(_(n),i=>(o(),t("li",{class:"p-illust__item",key:i.id},[s("div",N,[s("img",{src:i.acf.illust__img,alt:i.title.rendered,onClick:ns=>w(i.acf.illust__img),loading:"lazy"},null,8,D)])]))),128))]),l[1]||(l[1]=s("div",{class:"p-illust__bottom"},[s("div",{class:"p-illust__button"})],-1)),u(V,null,{default:y(()=>[_(p)?(o(),t("div",{key:0,id:"worksModal",class:"modal",onClick:l[0]||(l[0]=i=>$()),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},[s("div",P,[s("div",F,[s("div",H,[s("div",O,[s("img",{src:_(m),alt:_(m)},null,8,S)])])])])])):k("",!0)]),_:1})]))])}}}),q=Object.assign(v(z,[["__scopeId","data-v-b9712276"]]),{__name:"GalleryViewer"}),J=["href"],K={class:"c-linkButton__label"},Q={class:"c-linkButton__icon"},R={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},U=h({__name:"CommonLinkButton",props:{href:{}},setup(f){return(n,e)=>(o(),t("a",{href:n.href,target:"_blank",class:"c-linkButton"},[s("span",K,[g(n.$slots,"default",{},void 0)]),s("span",Q,[g(n.$slots,"icon",{},()=>[n.$slots.icon?k("",!0):(o(),t("svg",R,[...e[0]||(e[0]=[s("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])]))])])],8,J))}}),W=Object.assign(v(U,[["__scopeId","data-v-8bcfc571"]]),{__name:"CommonLinkButton"}),X={class:"p-gallery"},Y={class:"p-gallery__wrapper"},Z={class:"p-gallery__container"},ss={class:"p-gallery__inner"},ts={class:"p-gallery__bottom"},os={class:"p-gallery__link"},es=h({__name:"gallery",setup(f){return(n,e)=>{const r=q,d=W;return o(),t("div",X,[s("div",Y,[s("div",Z,[s("div",ss,[u(r),s("div",ts,[s("div",os,[u(d,{href:"https://www.instagram.com/romanstein_jp/"},{default:y(()=>[...e[0]||(e[0]=[I(" Instagramで見る ",-1)])]),_:1})])])])])])])}}}),_s=v(es,[["__scopeId","data-v-2414f961"]]);export{_s as default};
