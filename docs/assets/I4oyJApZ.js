import{_ as I,a as C}from"./Ck7rGD5g.js";import{g,j as _,c as o,o as e,b as c,a as s,t as $,w as m,d as y,F as w,r as b,k as B,l as r,T as L,_ as f,m as j}from"#entry";import{_ as x}from"./DSf4tbKu.js";const D={class:"p-illust"},E={key:0,class:"p-illust__loading"},M={key:1,class:"p-illust__error"},N={key:2},T={class:"p-illust__list"},V={class:"p-illust__thumbnail"},F=["src","alt","onClick"],G={class:"p-modal__inner"},R={class:"p-modal__container"},z={class:"p-modal__main"},A={class:"p-modal__img"},O=["src","alt"],S=g({__name:"GalleryIllust",props:{illustData:{},isIllustLoading:{type:Boolean},isIllustError:{},onRetry:{type:Function}},setup(h){const n=_(!1),a=_(""),d=_(""),u=(t,l)=>{a.value=t,d.value=l,n.value=!0},v=()=>{n.value=!1};return(t,l)=>{const p=I,k=C;return e(),o("div",D,[t.isIllustLoading?(e(),o("div",E,[c(p)])):t.isIllustError?(e(),o("div",M,[s("p",null,$(t.isIllustError),1),c(k,{onClick:t.onRetry},{default:m(()=>[...l[1]||(l[1]=[y(" データを再取得する ",-1)])]),_:1},8,["onClick"])])):(e(),o("div",N,[s("ul",T,[(e(!0),o(w,null,b(t.illustData,i=>(e(),o("li",{class:"p-illust__item",key:i.id},[s("div",V,[s("img",{src:i.acf.illust__img,alt:i.title.rendered,onClick:X=>u(i.acf.illust__img,i.title.rendered),loading:"lazy"},null,8,F)])]))),128))])])),c(L,null,{default:m(()=>[r(n)?(e(),o("div",{key:0,id:"worksModal",class:"p-modal",onClick:l[0]||(l[0]=i=>v()),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},[s("div",G,[s("div",R,[s("div",z,[s("div",A,[s("img",{src:r(a),alt:r(a)},null,8,O)])])])])])):B("",!0)]),_:1})])}}}),q=Object.assign(f(S,[["__scopeId","data-v-fb763024"]]),{__name:"GalleryIllust"}),H={class:"p-gallery"},J={class:"p-gallery__container"},K={class:"p-gallery__inner"},P={class:"p-gallery__viewer"},Q={class:"p-gallery__bottom"},U={class:"p-gallery__link"},W=g({__name:"gallery",setup(h){const n=_([]),a=_(!1),d=_(""),u=async()=>{a.value=!0;try{n.value=await $fetch("https://romanstein.jp/wp-json/wp/v2/illust?embed&per_page=100")}catch{d.value="データの取得に失敗しました"}finally{a.value=!1}};return j(()=>{u()}),(v,t)=>{const l=q,p=x;return e(),o("div",H,[s("div",J,[s("div",K,[s("div",P,[c(l,{"illust-data":r(n),"is-illust-loading":r(a),"is-illust-error":r(d),"on-retry":u},null,8,["illust-data","is-illust-loading","is-illust-error"])]),s("div",Q,[s("div",U,[c(p,{href:"https://www.instagram.com/romanstein_jp/"},{default:m(()=>[...t[0]||(t[0]=[y(" Instagramで見る ",-1)])]),_:1})])])])])])}}}),ts=f(W,[["__scopeId","data-v-d7859009"]]);export{ts as default};
