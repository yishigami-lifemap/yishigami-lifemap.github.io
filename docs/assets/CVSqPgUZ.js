import{_ as b}from"./C7GUWVv3.js";import{g as v,j as i,k as $,c as e,o,l,b as d,a as s,t as C,F as x,r as j,w as y,m as T,T as V,_ as g,d as I}from"#entry";import{_ as A}from"./Cv_Dthgp.js";const G={class:"p-illust"},M={key:0,class:"p-illust__loading"},B={key:1,class:"p-illust__error"},E={key:2},L={class:"p-illust__list"},N={class:"p-illust__thumbnail"},D=["src","alt","onClick"],P={class:"modal__inner"},F={class:"modal__container"},z={class:"modal__main"},H={class:"modal__img"},O=["src","alt"],S=v({__name:"GalleryViewer",setup(h){const p=i([]),n=i(!1),_=i(null),c=async()=>{n.value=!0,_.value=null;try{const t=await fetch("https://romanstein.jp/wp-json/wp/v2/illust?embed&per_page=100",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();if(!Array.isArray(a))throw new Error("API response is not an array");p.value=a}catch(t){_.value="データの取得に失敗しました",console.error("APIデータの取得エラー:",t)}finally{n.value=!1}},u=i(!1),m=i(""),f=t=>{m.value=t,u.value=!0},w=()=>{u.value=!1};return $(()=>{c()}),(t,a)=>{const k=b;return o(),e("div",G,[l(n)?(o(),e("div",M,[d(k)])):l(_)?(o(),e("div",B,[s("p",null,C(l(_)),1),s("button",{onClick:c,class:"retry-button"},"再試行")])):(o(),e("div",E,[s("ul",L,[(o(!0),e(x,null,j(l(p),r=>(o(),e("li",{class:"p-illust__item",key:r.id},[s("div",N,[s("img",{src:r.acf.illust__img,alt:r.title.rendered,onClick:Y=>f(r.acf.illust__img),loading:"lazy"},null,8,D)])]))),128))]),a[1]||(a[1]=s("div",{class:"p-illust__bottom"},[s("div",{class:"p-illust__button"})],-1)),d(V,null,{default:y(()=>[l(u)?(o(),e("div",{key:0,id:"worksModal",class:"modal",onClick:a[0]||(a[0]=r=>w()),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},[s("div",P,[s("div",F,[s("div",z,[s("div",H,[s("img",{src:l(m),alt:l(m)},null,8,O)])])])])])):T("",!0)]),_:1})]))])}}}),q=Object.assign(g(S,[["__scopeId","data-v-b9712276"]]),{__name:"GalleryViewer"}),J={class:"p-gallery"},K={class:"p-gallery__wrapper"},Q={class:"p-gallery__container"},R={class:"p-gallery__inner"},U={class:"p-gallery__bottom"},W={class:"p-gallery__link"},X=v({__name:"gallery",setup(h){return(p,n)=>{const _=q,c=A;return o(),e("div",J,[s("div",K,[s("div",Q,[s("div",R,[d(_),s("div",U,[s("div",W,[d(c,{href:"https://www.instagram.com/romanstein_jp/"},{default:y(()=>[...n[0]||(n[0]=[I(" Instagramで見る ",-1)])]),_:1})])])])])])])}}}),es=g(X,[["__scopeId","data-v-2414f961"]]);export{es as default};
