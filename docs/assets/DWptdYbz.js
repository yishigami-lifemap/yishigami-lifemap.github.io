import{j as y,r as o,k as _,c,o as i,a as t,b as g,l as r,m as k,t as b,F as A,n as h,w,p as C,T,_ as x}from"#entry";const N={key:0,class:"loading"},F={key:1,class:"error"},M={key:2,class:"works"},j={class:"works__list"},E={class:"works__thumbnail"},B=["src","alt","onClick"],I={class:"modal__inner"},V={class:"modal__container"},$={class:"modal__main"},D={class:"modal__img"},P=["src","alt"],G=y({__name:"gallery",setup(L){const u=o([]),l=o(!1),n=o(null),v=async()=>{l.value=!0,n.value=null;try{const e=await fetch("https://romanstein.jp/wp-json/wp/v2/illust?_embed&per_page=100&page=1",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const a=await e.json();if(!Array.isArray(a))throw new Error("API response is not an array");u.value=a}catch(e){const a=e instanceof Error?e.message:"Unknown error occurred";n.value=`データの取得に失敗しました: ${a}`,console.error("APIデータの取得エラー:",e)}finally{l.value=!1}},d=o(!1),m=o(""),f=e=>{m.value=e,d.value=!0},p=()=>{d.value=!1};return _(()=>{v()}),(e,a)=>(i(),c("div",null,[a[2]||(a[2]=t("h1",null,"gallery",-1)),r(l)?(i(),c("div",N,[...a[1]||(a[1]=[k('<p data-v-7c50958c><svg width="60" height="60" viewBox="0 0 38 38" data-v-7c50958c><g transform="translate(19 19)" data-v-7c50958c><g transform="rotate(0)" data-v-7c50958c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.125" data-v-7c50958c><animate attributeName="opacity" from="0.125" to="0.125" dur="1.2s" begin="0s" repeatCount="indefinite" keyTimes="0;1" values="1;0.125" data-v-7c50958c></animate></circle></g><g transform="rotate(45)" data-v-7c50958c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.25" data-v-7c50958c><animate attributeName="opacity" from="0.25" to="0.25" dur="1.2s" begin="0.15s" repeatCount="indefinite" keyTimes="0;1" values="1;0.25" data-v-7c50958c></animate></circle></g><g transform="rotate(90)" data-v-7c50958c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.375" data-v-7c50958c><animate attributeName="opacity" from="0.375" to="0.375" dur="1.2s" begin="0.3s" repeatCount="indefinite" keyTimes="0;1" values="1;0.375" data-v-7c50958c></animate></circle></g><g transform="rotate(135)" data-v-7c50958c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.5" data-v-7c50958c><animate attributeName="opacity" from="0.5" to="0.5" dur="1.2s" begin="0.44999999999999996s" repeatCount="indefinite" keyTimes="0;1" values="1;0.5" data-v-7c50958c></animate></circle></g><g transform="rotate(180)" data-v-7c50958c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.625" data-v-7c50958c><animate attributeName="opacity" from="0.625" to="0.625" dur="1.2s" begin="0.6s" repeatCount="indefinite" keyTimes="0;1" values="1;0.625" data-v-7c50958c></animate></circle></g><g transform="rotate(225)" data-v-7c50958c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.75" data-v-7c50958c><animate attributeName="opacity" from="0.75" to="0.75" dur="1.2s" begin="0.75s" repeatCount="indefinite" keyTimes="0;1" values="1;0.75" data-v-7c50958c></animate></circle></g><g transform="rotate(270)" data-v-7c50958c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.875" data-v-7c50958c><animate attributeName="opacity" from="0.875" to="0.875" dur="1.2s" begin="0.8999999999999999s" repeatCount="indefinite" keyTimes="0;1" values="1;0.875" data-v-7c50958c></animate></circle></g><g transform="rotate(315)" data-v-7c50958c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="1" data-v-7c50958c><animate attributeName="opacity" from="1" to="1" dur="1.2s" begin="1.05s" repeatCount="indefinite" keyTimes="0;1" values="1;1" data-v-7c50958c></animate></circle></g></g></svg></p>',1)])])):r(n)?(i(),c("div",F,[t("p",null,b(r(n)),1),t("button",{onClick:v,class:"retry-button"},"再試行")])):(i(),c("div",M,[t("ul",j,[(i(!0),c(A,null,h(r(u),s=>(i(),c("li",{class:"works__item",key:s.id},[t("div",E,[t("img",{src:s.acf.illust__img,alt:s.title.rendered,onClick:S=>f(s.acf.illust__img),loading:"lazy"},null,8,B)])]))),128))])])),g(T,null,{default:w(()=>[r(d)?(i(),c("div",{key:0,id:"worksModal",class:"modal",onClick:a[0]||(a[0]=s=>p()),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},[t("div",I,[t("div",V,[t("div",$,[t("div",D,[t("img",{src:r(m),alt:r(m)},null,8,P)])])])])])):C("",!0)]),_:1})]))}}),H=x(G,[["__scopeId","data-v-7c50958c"]]);export{H as default};
