import{_ as b}from"./tYCouP3E.js";import{j as A,k as n,l as w,c as i,o as r,b as _,w as f,d as p,m as o,n as h,a as e,t as C,F as T,r as x,p as N,T as F,_ as M}from"#entry";const j={key:0,class:"loading"},E={key:1,class:"error"},V={key:2,class:"works"},B={class:"works__list"},I={class:"works__thumbnail"},P=["src","alt","onClick"],$={class:"modal__inner"},D={class:"modal__container"},G={class:"modal__main"},L={class:"modal__img"},S=["src","alt"],z=A({__name:"gallery",setup(H){const u=n([]),l=n(!1),c=n(null),v=async()=>{l.value=!0,c.value=null;try{const t=await fetch("https://romanstein.jp/wp-json/wp/v2/illust?_embed&per_page=100&page=1",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();if(!Array.isArray(a))throw new Error("API response is not an array");u.value=a}catch(t){const a=t instanceof Error?t.message:"Unknown error occurred";c.value=`データの取得に失敗しました: ${a}`,console.error("APIデータの取得エラー:",t)}finally{l.value=!1}},d=n(!1),m=n(""),y=t=>{m.value=t,d.value=!0},g=()=>{d.value=!1};return w(()=>{v()}),(t,a)=>{const k=b;return r(),i("div",null,[_(k,null,{sub:f(()=>[...a[1]||(a[1]=[p("ギャラリー",-1)])]),main:f(()=>[...a[2]||(a[2]=[p("Gallery",-1)])]),_:1}),o(l)?(r(),i("div",j,[...a[3]||(a[3]=[h('<p data-v-19faa31c><svg width="60" height="60" viewBox="0 0 38 38" data-v-19faa31c><g transform="translate(19 19)" data-v-19faa31c><g transform="rotate(0)" data-v-19faa31c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.125" data-v-19faa31c><animate attributeName="opacity" from="0.125" to="0.125" dur="1.2s" begin="0s" repeatCount="indefinite" keyTimes="0;1" values="1;0.125" data-v-19faa31c></animate></circle></g><g transform="rotate(45)" data-v-19faa31c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.25" data-v-19faa31c><animate attributeName="opacity" from="0.25" to="0.25" dur="1.2s" begin="0.15s" repeatCount="indefinite" keyTimes="0;1" values="1;0.25" data-v-19faa31c></animate></circle></g><g transform="rotate(90)" data-v-19faa31c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.375" data-v-19faa31c><animate attributeName="opacity" from="0.375" to="0.375" dur="1.2s" begin="0.3s" repeatCount="indefinite" keyTimes="0;1" values="1;0.375" data-v-19faa31c></animate></circle></g><g transform="rotate(135)" data-v-19faa31c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.5" data-v-19faa31c><animate attributeName="opacity" from="0.5" to="0.5" dur="1.2s" begin="0.44999999999999996s" repeatCount="indefinite" keyTimes="0;1" values="1;0.5" data-v-19faa31c></animate></circle></g><g transform="rotate(180)" data-v-19faa31c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.625" data-v-19faa31c><animate attributeName="opacity" from="0.625" to="0.625" dur="1.2s" begin="0.6s" repeatCount="indefinite" keyTimes="0;1" values="1;0.625" data-v-19faa31c></animate></circle></g><g transform="rotate(225)" data-v-19faa31c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.75" data-v-19faa31c><animate attributeName="opacity" from="0.75" to="0.75" dur="1.2s" begin="0.75s" repeatCount="indefinite" keyTimes="0;1" values="1;0.75" data-v-19faa31c></animate></circle></g><g transform="rotate(270)" data-v-19faa31c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.875" data-v-19faa31c><animate attributeName="opacity" from="0.875" to="0.875" dur="1.2s" begin="0.8999999999999999s" repeatCount="indefinite" keyTimes="0;1" values="1;0.875" data-v-19faa31c></animate></circle></g><g transform="rotate(315)" data-v-19faa31c><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="1" data-v-19faa31c><animate attributeName="opacity" from="1" to="1" dur="1.2s" begin="1.05s" repeatCount="indefinite" keyTimes="0;1" values="1;1" data-v-19faa31c></animate></circle></g></g></svg></p>',1)])])):o(c)?(r(),i("div",E,[e("p",null,C(o(c)),1),e("button",{onClick:v,class:"retry-button"},"再試行")])):(r(),i("div",V,[e("ul",B,[(r(!0),i(T,null,x(o(u),s=>(r(),i("li",{class:"works__item",key:s.id},[e("div",I,[e("img",{src:s.acf.illust__img,alt:s.title.rendered,onClick:U=>y(s.acf.illust__img),loading:"lazy"},null,8,P)])]))),128))])])),_(F,null,{default:f(()=>[o(d)?(r(),i("div",{key:0,id:"worksModal",class:"modal",onClick:a[0]||(a[0]=s=>g()),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},[e("div",$,[e("div",D,[e("div",G,[e("div",L,[e("img",{src:o(m),alt:o(m)},null,8,S)])])])])])):N("",!0)]),_:1})])}}}),K=M(z,[["__scopeId","data-v-19faa31c"]]);export{K as default};
