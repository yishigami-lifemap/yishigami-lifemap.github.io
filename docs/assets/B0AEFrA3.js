import{_ as x,a as b}from"./Ck7rGD5g.js";import{g as y,j as i,k as j,c as e,o as a,l,b as c,a as s,t as T,w as v,d as f,F as V,r as I,m as A,T as B,_ as g}from"#entry";import{_ as G}from"./IH7UryKP.js";const M={class:"p-illust"},E={key:0,class:"p-illust__loading"},L={key:1,class:"p-illust__error"},N={key:2},D={class:"p-illust__list"},P={class:"p-illust__thumbnail"},F=["src","alt","onClick"],z={class:"modal__inner"},H={class:"modal__container"},O={class:"modal__main"},R={class:"modal__img"},S=["src","alt"],q=y({__name:"GalleryViewer",setup(h){const p=i([]),n=i(!1),_=i(null),d=async()=>{n.value=!0,_.value=null;try{const o=await fetch("https://romanstein.jp/wp-json/wp/v2/illust?embed&per_page=100",{method:"GET",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const t=await o.json();if(!Array.isArray(t))throw new Error("API response is not an array");p.value=t}catch(o){_.value="データの取得に失敗しました",console.error("APIデータの取得エラー:",o)}finally{n.value=!1}},u=i(!1),m=i(""),w=o=>{m.value=o,u.value=!0},k=()=>{u.value=!1};return j(()=>{d()}),(o,t)=>{const C=x,$=b;return a(),e("div",M,[l(n)?(a(),e("div",E,[c(C)])):l(_)?(a(),e("div",L,[s("p",null,T(l(_)),1),c($,{onClick:d},{default:v(()=>[...t[1]||(t[1]=[f(" データを再取得する ",-1)])]),_:1})])):(a(),e("div",N,[s("ul",D,[(a(!0),e(V,null,I(l(p),r=>(a(),e("li",{class:"p-illust__item",key:r.id},[s("div",P,[s("img",{src:r.acf.illust__img,alt:r.title.rendered,onClick:ss=>w(r.acf.illust__img),loading:"lazy"},null,8,F)])]))),128))]),t[2]||(t[2]=s("div",{class:"p-illust__bottom"},[s("div",{class:"p-illust__button"})],-1)),c(B,null,{default:v(()=>[l(u)?(a(),e("div",{key:0,id:"worksModal",class:"modal",onClick:t[0]||(t[0]=r=>k()),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},[s("div",z,[s("div",H,[s("div",O,[s("div",R,[s("img",{src:l(m),alt:l(m)},null,8,S)])])])])])):A("",!0)]),_:1})]))])}}}),J=Object.assign(g(q,[["__scopeId","data-v-99d28182"]]),{__name:"GalleryViewer"}),K={class:"p-gallery"},Q={class:"p-gallery__wrapper"},U={class:"p-gallery__container"},W={class:"p-gallery__inner"},X={class:"p-gallery__bottom"},Y={class:"p-gallery__link"},Z=y({__name:"gallery",setup(h){return(p,n)=>{const _=J,d=G;return a(),e("div",K,[s("div",Q,[s("div",U,[s("div",W,[c(_),s("div",X,[s("div",Y,[c(d,{href:"https://www.instagram.com/romanstein_jp/"},{default:v(()=>[...n[0]||(n[0]=[f(" Instagramで見る ",-1)])]),_:1})])])])])])])}}}),as=g(Z,[["__scopeId","data-v-2414f961"]]);export{as as default};
