import{a as x,_ as g}from"./Ck7rGD5g.js";import{_ as y}from"./DSf4tbKu.js";import{_ as L}from"./B6mTgF_p.js";import{g as C,p as B,n as N,j as p,m as M,q as P,c as _,a as t,k as f,l as s,b as a,t as r,w as l,o as n,d as m}from"#entry";const T={class:"p-post"},H={class:"p-post__wrapper"},V={class:"p-post__container"},j={class:"p-post__inner"},D={key:0,class:"p-post__loading"},W={key:1,class:"p-post__error"},$={key:2,class:"p-post__main"},E={class:"p-post__article"},R={class:"p-post__header"},S={class:"p-post__figure"},q=["src","alt"],I={class:"p-post__meta"},z={class:"p-post__date"},A=["innerHTML"],F=["href"],G={class:"p-post__body"},J={class:"p-post__content"},K=["innerHTML"],O={class:"p-post__external"},Q={class:"p-post__bottom"},et=C({__name:"[id]",setup(U){const u=B(),h=N(()=>Number(u.params.id)),e=p(null),c=p(!1),i=p(""),d=async()=>{c.value=!0;try{e.value=await $fetch(`https://romanstein.jp/wp-json/wp/v2/web/${h.value}?_embed`)}catch{i.value="データの取得に失敗しました"}finally{c.value=!1}};return M(d),P(()=>u.params.id,d),(X,o)=>{const b=g,v=x,w=y,k=L;return n(),_("div",T,[t("div",H,[t("div",V,[t("div",j,[s(c)?(n(),_("div",D,[a(b)])):s(i)?(n(),_("div",W,[t("p",null,r(s(i)),1),a(v,{onClick:d},{default:l(()=>[...o[0]||(o[0]=[m(" 再試行 ",-1)])]),_:1})])):s(e)?(n(),_("div",$,[t("article",E,[t("header",R,[t("figure",S,[t("img",{src:s(e).acf?.web__thumb||s(e)._embedded?.["wp:featuredmedia"]?.[0]?.source_url,alt:s(e)._embedded?.["wp:featuredmedia"]?.[0]?.alt_text||s(e).title.rendered},null,8,q)]),t("div",I,[t("p",z,r(s(e).acf?.web__date||new Date(s(e).date).toLocaleDateString()),1),t("h1",{class:"p-post__title",innerHTML:s(e).title.rendered},null,8,A),s(e).link?(n(),_("a",{key:0,href:s(e).acf?.web__link,class:"p-post__link",target:"_blank"},r(s(e).acf?.web__link),9,F)):f("",!0)])]),t("div",G,[t("div",J,[t("div",{class:"p-post__description",innerHTML:s(e).content.rendered},null,8,K),t("div",O,[a(w,{href:s(e).acf?.web__link},{default:l(()=>[...o[1]||(o[1]=[m(" サイトを見る ",-1)])]),_:1},8,["href"])])])])])])):f("",!0),t("div",Q,[a(k,{to:"/works",class:"p-post__backButton"},{default:l(()=>[...o[2]||(o[2]=[m(" 一覧に戻る ",-1)])]),_:1})])])])])])}}});export{et as default};
